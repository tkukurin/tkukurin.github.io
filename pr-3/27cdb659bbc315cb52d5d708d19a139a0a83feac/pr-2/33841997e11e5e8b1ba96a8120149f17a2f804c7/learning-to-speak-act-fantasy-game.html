<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    <title>Learning to Speak and Act in a Fantasy Text Adventure Game</title>
    <meta name="description" content="Work by FAIR. Available on ParlAI.">
    <link rel="canonical" href="https://tkukurin.github.io/learning-to-speak-act-fantasy-game">
  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/light.css">
  <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

</head>


  <body class="layout--post  learning-to-speak-and-act-in-a-fantasy-text-adventure-game">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

    <header class="masthead">
  <div class="wrap">
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">~</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">caveat emptor</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <div class="page-sidebar">
        
            
            <h1 id="page-title" class="page-title p-name">Learning to Speak and Act in a Fantasy Text Adventure Game
</h1>
        
        <div class="page-author h-card p-author"><div class="author-info">
    <time class="page-date dt-published" datetime="2020-11-18T00:00:00+00:00"><a class="u-url" href="">Nov 18, 2020</a>
</time>

  </div>
</div>

        

        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy">grounding</li>
  </ul>


      </div>

      <div class="page-content">
        <div class="e-content">
          <p>Work by <a href="https://scontent-vie1-1.xx.fbcdn.net/v/t39.8562-6/78608959_452289858808567_714535640108105728_n.pdf?_nc_cat=106&amp;ccb=2&amp;_nc_sid=ae5e01&amp;_nc_ohc=xu7-hDuqFs4AX9vx_2B&amp;_nc_ht=scontent-vie1-1.xx&amp;oh=d20bba8b3f720542e01bf7e5228e4992&amp;oe=5FD8CCCA">FAIR</a>.
Available on <a href="https://parl.ai/projects/light/">ParlAI</a>.</p>

<p>A text environment. Crowdsourced annotations, including locations, objects and
their affordances, characters and their personalities, and interactions.</p>

<ul>
  <li>663 game locations from 37 categories
    <ul>
      <li>Crowd annotation task: from a category, create a description, backstory,
names of connected locations, and contained objects and characters.</li>
      <li>6 of these categories separated for testing (turn out to be <em>simpler</em>)</li>
    </ul>
  </li>
  <li>3462 objects with annotations (tag and description)</li>
  <li>1755 game characters</li>
  <li>10,777 crowdsourced dialogues</li>
</ul>

<blockquote>
  <p>Physical actions include get, drop, put, give, steal, wear, remove, eat,
drink, hug and hit, each taking either one or two arguments, e.g. put robes in
closet. Every action has an explicit unambiguous effect on the underlying game
state, and can only be executed if constraints are met, e.g. if the agent is
holding the robes in the latter example. These constraints are what indirectly
provide an agent with object affordances, as the list of possible actions
provides all ways the agent can interact with their environment. Emotes
include applaud, blush, cringe, cry, dance, frown … (22 in total) and have
no effect on the game state other than to notify nearby characters of the
emote, which can have effects on their behavior.</p>
</blockquote>

<h2 id="model">Model</h2>

<blockquote>
  <p>we represent context as a large text sequence with a special token preceding
each input type (persona, setting, self emote, partner emote, etc).</p>
</blockquote>

<p>Prediction: actions, emotes, dialogue.
Types: ranking (pick best response from a set) and
generative (decode word by word).</p>

<p>Ranking: dialogue from a set of random 20 or action from available.
22 possible emotes. <strong>Metrics</strong> R@1 and accuracy.</p>

<h3 id="baselines">Baselines</h3>

<blockquote>
  <p>We use Starspace which learns a bag-of-words embedding for context and
candidates to maximize the inner product of the true label using a ranking
loss (…)  we use fastText to classify which emote should be predicted next.</p>
</blockquote>

<p>They also test &amp; visualize out some Starspace encodings (Appendix).</p>

<h3 id="berts">BERTs</h3>

<p><a href="https://arxiv.org/abs/1811.01241"><em>Transformer memory network</em> (TMN)</a>
learns per-grounding representation based on special tokens in place of <code class="language-plaintext highlighter-rouge">[CLS]</code>;
performs attention to get final embedding.
Comparison via dot product.
Trained via negative sampling from training batch.</p>

<p>Then the other models are just pre-trained BERTs.</p>

<p><em>BERT Bi-Ranker</em>
separately transforms context and each of the candidates (<code class="language-plaintext highlighter-rouge">[CLS]</code> token output).
Then transforms this embedding via an additional linear layer.
Comparison via dot product.
Trained via ranking loss (?).</p>

<p><em>BERT Cross-Ranker</em>
concatenates context with each of the candidates to produce embeddings.
~11k times slower than Bi-Ranker (not possible to cache).</p>

<p><em>Generative</em>
TMN to encode context features.
Transformer decodes while attending to encoder input.</p>

<h2 id="results">Results</h2>

<p>Ablation studies against various features.
BERT pre-trained outeperforms (statistically significant?) all others.
Bayes rate still not reached.
Test set categories easier to classify (lower Bayes rate).</p>

<h3 id="about-that-grounding">About that grounding</h3>

<ul>
  <li>dialogue</li>
  <li>setting description</li>
  <li>character’s persona</li>
  <li>objects with descriptions</li>
</ul>


        </div>

        

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/impala">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Importance-weighted Actor-Learner Architecture

      </span>
    </a>
  

  
    <a class="page-next" href="/psi-computational-architecture">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Psi: A Computational Architecture
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>

    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="https://twitter.com/tkukurin"><i class="fab fa-twitter-square fa-2x" title="Twitter"></i></a><a class="social-icon" href="https://github.com/tkukurin"><i class="fab fa-github-square fa-2x" title="GitHub"></i></a><a class="social-icon" href="https://www.linkedin.com/in/toni/"><i class="fab fa-linkedin fa-2x" title="LinkedIn"></i></a></div><div class="copyright">
    
      

    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


<!-- MathJax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  </body>

</html>
